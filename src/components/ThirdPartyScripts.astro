---
import { thirdPartyScriptsConfig } from '../config/thirdPartyScripts';

interface Props {
  placement: 'head' | 'body';
}

const { placement } = Astro.props as Props;
const scriptsEnabled = import.meta.env.PROD || thirdPartyScriptsConfig.enabledInDev;
const snippets = scriptsEnabled
  ? thirdPartyScriptsConfig.snippets.filter((snippet) => (snippet.placement ?? 'head') === placement)
  : [];
---
{
  snippets.map((snippet) => (
    <Fragment set:html={snippet.html} />
  ))
}
